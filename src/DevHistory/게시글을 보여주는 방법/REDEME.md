# 게시글을 보여주는 방법 (Next js 13)

내가 게시글을 보여주기 위해 시도했던 여러 방법들을 적어보려고 한다.

### Server Component

처음에는 서버 컴포넌트로 게시글 리스트를 받아와서 그대로 보여주는 방법으로 해보았다.

```javascript
const { getServerData } = await serverData();
return <Component Data={getServerData} />;
```

아래와 같은 느낌으로 바로 데이터를 전달해주는 방법을 사용해보았다

하지만 위에 문제점은 매 요청마다 서버에 요청하는 것, 하위 컴포넌트가 렌더시에는데이터가 최신화 되지
않는 문제가 있었다.

그러한 문제로 인하여 위에 방법은 사용하지 않았다.

### zustand를 이용한 데이터 보관

두 번째로는 zustand를 이요하여 데이터를 초기에 보관하고 나머지 부분에서 사용하는 방법을 사용해 보았
다.

하지만 위에 방법도 데이터 최신화라는 문제가 있었고사용하는 DB테이블마다 store를 만들어야하는 귀찮음
도 있었다.

### 결국에는 React-query

결국에는 React-query로 결정지었다 custom hooks을 만들어서 데이터를 가져옴과 동시에 useQuery에 등록시
키고그 데이터를 가지고 화면을 구성하였다. 또한 isLoading, isSuccess를 통한 다양한 화면 구성을 할 수
있었고데이터 캐시를 통해 서버에 부담을 줄일 수 있었다.
